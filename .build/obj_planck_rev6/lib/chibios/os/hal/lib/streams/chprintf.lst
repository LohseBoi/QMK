   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"chprintf.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.long_to_string_with_divisor.constprop.0,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	long_to_string_with_divisor.constprop.0:
  26              	.LVL0:
  27              	.LFB334:
  28              		.file 1 "lib/chibios/os/hal/lib/streams/chprintf.c"
   1:lib/chibios/os/hal/lib/streams/chprintf.c **** /*
   2:lib/chibios/os/hal/lib/streams/chprintf.c ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:lib/chibios/os/hal/lib/streams/chprintf.c **** 
   4:lib/chibios/os/hal/lib/streams/chprintf.c ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:lib/chibios/os/hal/lib/streams/chprintf.c ****     you may not use this file except in compliance with the License.
   6:lib/chibios/os/hal/lib/streams/chprintf.c ****     You may obtain a copy of the License at
   7:lib/chibios/os/hal/lib/streams/chprintf.c **** 
   8:lib/chibios/os/hal/lib/streams/chprintf.c ****         http://www.apache.org/licenses/LICENSE-2.0
   9:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  10:lib/chibios/os/hal/lib/streams/chprintf.c ****     Unless required by applicable law or agreed to in writing, software
  11:lib/chibios/os/hal/lib/streams/chprintf.c ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:lib/chibios/os/hal/lib/streams/chprintf.c ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:lib/chibios/os/hal/lib/streams/chprintf.c ****     See the License for the specific language governing permissions and
  14:lib/chibios/os/hal/lib/streams/chprintf.c ****     limitations under the License.
  15:lib/chibios/os/hal/lib/streams/chprintf.c **** */
  16:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  17:lib/chibios/os/hal/lib/streams/chprintf.c **** /*
  18:lib/chibios/os/hal/lib/streams/chprintf.c ****    Concepts and parts of this file have been contributed by Fabio Utzig,
  19:lib/chibios/os/hal/lib/streams/chprintf.c ****    chvprintf() added by Brent Roman.
  20:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
  21:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  22:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
  23:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @file    chprintf.c
  24:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   Mini printf-like functionality.
  25:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
  26:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @addtogroup HAL_CHPRINTF
  27:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details Mini printf-like functionality.
  28:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @{
  29:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
  30:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  31:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "hal.h"
  32:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "chprintf.h"
  33:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "memstreams.h"
  34:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  35:lib/chibios/os/hal/lib/streams/chprintf.c **** #define MAX_FILLER 11
  36:lib/chibios/os/hal/lib/streams/chprintf.c **** #define FLOAT_PRECISION 9
  37:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  38:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *long_to_string_with_divisor(char *p,
  29              		.loc 1 38 14 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  39:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long num,
  40:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          unsigned radix,
  41:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long divisor) {
  42:lib/chibios/os/hal/lib/streams/chprintf.c ****   int i;
  33              		.loc 1 42 3 view .LVU1
  43:lib/chibios/os/hal/lib/streams/chprintf.c ****   char *q;
  34              		.loc 1 43 3 view .LVU2
  44:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l, ll;
  35              		.loc 1 44 3 view .LVU3
  45:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  46:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = num;
  36              		.loc 1 46 3 view .LVU4
  47:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (divisor == 0) {
  37              		.loc 1 47 3 view .LVU5
  48:lib/chibios/os/hal/lib/streams/chprintf.c ****     ll = num;
  49:lib/chibios/os/hal/lib/streams/chprintf.c ****   } else {
  50:lib/chibios/os/hal/lib/streams/chprintf.c ****     ll = divisor;
  51:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
  52:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  53:lib/chibios/os/hal/lib/streams/chprintf.c ****   q = p + MAX_FILLER;
  38              		.loc 1 53 3 view .LVU6
  38:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long num,
  39              		.loc 1 38 14 is_stmt 0 view .LVU7
  40 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  41              		.cfi_def_cfa_offset 20
  42              		.cfi_offset 4, -20
  43              		.cfi_offset 5, -16
  44              		.cfi_offset 6, -12
  45              		.cfi_offset 7, -8
  46              		.cfi_offset 14, -4
  47              		.loc 1 53 5 view .LVU8
  48 0002 00F10B04 		add	r4, r0, #11
  49              	.LVL1:
  50              		.loc 1 53 5 view .LVU9
  51 0006 2346     		mov	r3, r4
  52              	.LVL2:
  53              	.L3:
  54:lib/chibios/os/hal/lib/streams/chprintf.c ****   do {
  54              		.loc 1 54 3 is_stmt 1 view .LVU10
  55:lib/chibios/os/hal/lib/streams/chprintf.c ****     i = (int)(l % radix);
  55              		.loc 1 55 5 view .LVU11
  56              		.loc 1 55 17 is_stmt 0 view .LVU12
  57 0008 0D46     		mov	r5, r1
  58 000a B1FBF2F1 		udiv	r1, r1, r2
  59              	.LVL3:
  60              		.loc 1 55 17 view .LVU13
  61 000e 02FB1157 		mls	r7, r2, r1, r5
  62              	.LVL4:
  56:lib/chibios/os/hal/lib/streams/chprintf.c ****     i += '0';
  63              		.loc 1 56 5 is_stmt 1 view .LVU14
  64              		.loc 1 56 7 is_stmt 0 view .LVU15
  65 0012 07F13006 		add	r6, r7, #48
  66              	.LVL5:
  57:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (i > '9') {
  67              		.loc 1 57 5 is_stmt 1 view .LVU16
  68              		.loc 1 57 8 is_stmt 0 view .LVU17
  69 0016 392E     		cmp	r6, #57
  58:lib/chibios/os/hal/lib/streams/chprintf.c ****       i += 'A' - '0' - 10;
  70              		.loc 1 58 7 is_stmt 1 view .LVU18
  71              		.loc 1 58 9 is_stmt 0 view .LVU19
  72 0018 C8BF     		it	gt
  73 001a 07F13706 		addgt	r6, r7, #55
  74              	.LVL6:
  59:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
  60:lib/chibios/os/hal/lib/streams/chprintf.c ****     *--q = i;
  75              		.loc 1 60 5 is_stmt 1 view .LVU20
  61:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  62:lib/chibios/os/hal/lib/streams/chprintf.c ****   } while ((ll /= radix) != 0);
  76              		.loc 1 62 26 is_stmt 0 view .LVU21
  77 001e 9542     		cmp	r5, r2
  60:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  78              		.loc 1 60 10 view .LVU22
  79 0020 03F8016D 		strb	r6, [r3, #-1]!
  80              	.LVL7:
  61:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  81              		.loc 1 61 5 is_stmt 1 view .LVU23
  82              		.loc 1 62 26 view .LVU24
  83              		.loc 1 62 26 is_stmt 0 view .LVU25
  84 0024 F0D2     		bcs	.L3
  63:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  64:lib/chibios/os/hal/lib/streams/chprintf.c ****   i = (int)(p + MAX_FILLER - q);
  85              		.loc 1 64 3 is_stmt 1 view .LVU26
  86              	.LVL8:
  87              		.loc 1 64 3 is_stmt 0 view .LVU27
  88 0026 421E     		subs	r2, r0, #1
  89              	.LVL9:
  90              		.loc 1 64 5 view .LVU28
  91 0028 E11A     		subs	r1, r4, r3
  92              	.LVL10:
  93              	.L4:
  65:lib/chibios/os/hal/lib/streams/chprintf.c ****   do
  94              		.loc 1 65 3 is_stmt 1 view .LVU29
  66:lib/chibios/os/hal/lib/streams/chprintf.c ****     *p++ = *q++;
  95              		.loc 1 66 5 view .LVU30
  96              		.loc 1 66 12 is_stmt 0 view .LVU31
  97 002a 13F8015B 		ldrb	r5, [r3], #1	@ zero_extendqisi2
  98              	.LVL11:
  99              		.loc 1 66 10 view .LVU32
 100 002e 02F8015F 		strb	r5, [r2, #1]!
  67:lib/chibios/os/hal/lib/streams/chprintf.c ****   while (--i);
 101              		.loc 1 67 10 is_stmt 1 view .LVU33
 102              		.loc 1 67 10 is_stmt 0 view .LVU34
 103 0032 9C42     		cmp	r4, r3
 104 0034 F9D1     		bne	.L4
  68:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  69:lib/chibios/os/hal/lib/streams/chprintf.c ****   return p;
 105              		.loc 1 69 3 is_stmt 1 view .LVU35
  70:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 106              		.loc 1 70 1 is_stmt 0 view .LVU36
 107 0036 0844     		add	r0, r0, r1
 108 0038 F0BD     		pop	{r4, r5, r6, r7, pc}
 109              		.cfi_endproc
 110              	.LFE334:
 112              		.section	.rodata.chvprintf.str1.1,"aMS",%progbits,1
 113              	.LC0:
 114 0000 286E756C 		.ascii	"(null)\000"
 114      6C2900
 115              		.section	.text.chvprintf,"ax",%progbits
 116              		.align	1
 117              		.global	chvprintf
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu fpv4-sp-d16
 123              	chvprintf:
 124              	.LVL12:
 125              	.LFB330:
  71:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *ch_ltoa(char *p, long num, unsigned radix) {
  73:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  74:lib/chibios/os/hal/lib/streams/chprintf.c ****   return long_to_string_with_divisor(p, num, radix, 0);
  75:lib/chibios/os/hal/lib/streams/chprintf.c **** }
  76:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  77:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
  78:lib/chibios/os/hal/lib/streams/chprintf.c **** static const long pow10[FLOAT_PRECISION] = {
  79:lib/chibios/os/hal/lib/streams/chprintf.c ****     10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000
  80:lib/chibios/os/hal/lib/streams/chprintf.c **** };
  81:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  82:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *ftoa(char *p, double num, unsigned long precision) {
  83:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l;
  84:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  85:lib/chibios/os/hal/lib/streams/chprintf.c ****   if ((precision == 0) || (precision > FLOAT_PRECISION)) {
  86:lib/chibios/os/hal/lib/streams/chprintf.c ****     precision = FLOAT_PRECISION;
  87:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
  88:lib/chibios/os/hal/lib/streams/chprintf.c ****   precision = pow10[precision - 1];
  89:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  90:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = (long)num;
  91:lib/chibios/os/hal/lib/streams/chprintf.c ****   p = long_to_string_with_divisor(p, l, 10, 0);
  92:lib/chibios/os/hal/lib/streams/chprintf.c ****   *p++ = '.';
  93:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = (long)((num - l) * precision);
  94:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  95:lib/chibios/os/hal/lib/streams/chprintf.c ****   return long_to_string_with_divisor(p, l, 10, precision / 10);
  96:lib/chibios/os/hal/lib/streams/chprintf.c **** }
  97:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
  98:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  99:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 100:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 101:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p vprintf()-like functionality
 102:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          with output on a @p BaseSequentialStream.
 103:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 104:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 105:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 106:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 107:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 108:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 109:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 110:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 111:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 112:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 113:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 114:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 115:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 116:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 117:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] chp       pointer to a @p BaseSequentialStream implementing object
 118:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 119:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] ap        list of parameters
 120:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of bytes that would have been
 121:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      written to @p chp if no stream error occurs
 122:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 123:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 124:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 125:lib/chibios/os/hal/lib/streams/chprintf.c **** int chvprintf(BaseSequentialStream *chp, const char *fmt, va_list ap) {
 126              		.loc 1 125 71 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 24
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              		.loc 1 125 71 is_stmt 0 view .LVU38
 131 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 132              		.cfi_def_cfa_offset 36
 133              		.cfi_offset 4, -36
 134              		.cfi_offset 5, -32
 135              		.cfi_offset 6, -28
 136              		.cfi_offset 7, -24
 137              		.cfi_offset 8, -20
 138              		.cfi_offset 9, -16
 139              		.cfi_offset 10, -12
 140              		.cfi_offset 11, -8
 141              		.cfi_offset 14, -4
 142 0004 0646     		mov	r6, r0
 143 0006 87B0     		sub	sp, sp, #28
 144              		.cfi_def_cfa_offset 64
 145              		.loc 1 125 71 view .LVU39
 146 0008 1546     		mov	r5, r2
 147              	.LVL13:
 126:lib/chibios/os/hal/lib/streams/chprintf.c ****   char *p, *s, c, filler;
 148              		.loc 1 126 3 is_stmt 1 view .LVU40
 127:lib/chibios/os/hal/lib/streams/chprintf.c ****   int i, precision, width;
 149              		.loc 1 127 3 view .LVU41
 128:lib/chibios/os/hal/lib/streams/chprintf.c ****   int n = 0;
 150              		.loc 1 128 3 view .LVU42
 151              		.loc 1 128 7 is_stmt 0 view .LVU43
 152 000a 0027     		movs	r7, #0
 153              	.LVL14:
 154              	.L8:
 129:lib/chibios/os/hal/lib/streams/chprintf.c ****   bool is_long, left_align, do_sign;
 155              		.loc 1 129 3 is_stmt 1 view .LVU44
 130:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l;
 156              		.loc 1 130 3 view .LVU45
 131:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
 132:lib/chibios/os/hal/lib/streams/chprintf.c ****   float f;
 133:lib/chibios/os/hal/lib/streams/chprintf.c ****   char tmpbuf[2*MAX_FILLER + 1];
 134:lib/chibios/os/hal/lib/streams/chprintf.c **** #else
 135:lib/chibios/os/hal/lib/streams/chprintf.c ****   char tmpbuf[MAX_FILLER + 1];
 157              		.loc 1 135 3 view .LVU46
 136:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
 137:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 138:lib/chibios/os/hal/lib/streams/chprintf.c ****   while (true) {
 158              		.loc 1 138 3 view .LVU47
 139:lib/chibios/os/hal/lib/streams/chprintf.c ****     c = *fmt++;
 159              		.loc 1 139 5 view .LVU48
 160              		.loc 1 139 13 is_stmt 0 view .LVU49
 161 000c 0C46     		mov	r4, r1
 162              	.LVL15:
 163              		.loc 1 139 7 view .LVU50
 164 000e 14F8013B 		ldrb	r3, [r4], #1	@ zero_extendqisi2
 165              	.LVL16:
 140:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == 0) {
 166              		.loc 1 140 5 is_stmt 1 view .LVU51
 167              		.loc 1 140 8 is_stmt 0 view .LVU52
 168 0012 002B     		cmp	r3, #0
 169 0014 3ED0     		beq	.L7
 141:lib/chibios/os/hal/lib/streams/chprintf.c ****       return n;
 142:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 143:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 144:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c != '%') {
 170              		.loc 1 144 5 is_stmt 1 view .LVU53
 171              		.loc 1 144 8 is_stmt 0 view .LVU54
 172 0016 252B     		cmp	r3, #37
 173 0018 06D0     		beq	.L10
 145:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)c);
 174              		.loc 1 145 7 is_stmt 1 discriminator 1 view .LVU55
 175 001a 3268     		ldr	r2, [r6]
 176              	.LVL17:
 177              		.loc 1 145 7 is_stmt 0 discriminator 1 view .LVU56
 178 001c 1946     		mov	r1, r3
 179 001e D268     		ldr	r2, [r2, #12]
 180 0020 3046     		mov	r0, r6
 181 0022 9047     		blx	r2
 182              	.LVL18:
 146:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 183              		.loc 1 146 7 is_stmt 1 discriminator 1 view .LVU57
 184              		.loc 1 146 8 is_stmt 0 discriminator 1 view .LVU58
 185 0024 0137     		adds	r7, r7, #1
 186              	.LVL19:
 147:lib/chibios/os/hal/lib/streams/chprintf.c ****       continue;
 187              		.loc 1 147 7 is_stmt 1 discriminator 1 view .LVU59
 188 0026 37E1     		b	.L11
 189              	.LVL20:
 190              	.L10:
 148:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 149:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     p = tmpbuf;
 191              		.loc 1 150 5 view .LVU60
 151:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 192              		.loc 1 151 5 view .LVU61
 152:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 153:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Alignment mode.*/
 154:lib/chibios/os/hal/lib/streams/chprintf.c ****     left_align = false;
 193              		.loc 1 154 5 view .LVU62
 155:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '-') {
 194              		.loc 1 155 5 view .LVU63
 195              		.loc 1 155 8 is_stmt 0 view .LVU64
 196 0028 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 197              	.LVL21:
 198              		.loc 1 155 8 view .LVU65
 199 002a 2D2B     		cmp	r3, #45
 156:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 200              		.loc 1 156 7 is_stmt 1 view .LVU66
 201              		.loc 1 156 10 is_stmt 0 view .LVU67
 202 002c 04BF     		itt	eq
 203 002e 8C1C     		addeq	r4, r1, #2
 204              	.LVL22:
 157:lib/chibios/os/hal/lib/streams/chprintf.c ****       left_align = true;
 205              		.loc 1 157 7 is_stmt 1 view .LVU68
 206              		.loc 1 157 18 is_stmt 0 view .LVU69
 207 0030 4FF00109 		moveq	r9, #1
 158:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 159:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 160:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Sign mode.*/
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     do_sign = false;
 162:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 208              		.loc 1 162 8 view .LVU70
 209 0034 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 154:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '-') {
 210              		.loc 1 154 16 view .LVU71
 211 0036 18BF     		it	ne
 212 0038 4FF00009 		movne	r9, #0
 213              	.LVL23:
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 214              		.loc 1 161 5 is_stmt 1 view .LVU72
 215              		.loc 1 162 5 view .LVU73
 216              		.loc 1 162 8 is_stmt 0 view .LVU74
 217 003c 2B2B     		cmp	r3, #43
 163:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 218              		.loc 1 163 7 is_stmt 1 view .LVU75
 219              		.loc 1 163 10 is_stmt 0 view .LVU76
 220 003e 04BF     		itt	eq
 221 0040 0134     		addeq	r4, r4, #1
 222              	.LVL24:
 164:lib/chibios/os/hal/lib/streams/chprintf.c ****       do_sign = true;
 223              		.loc 1 164 7 is_stmt 1 view .LVU77
 224              		.loc 1 164 15 is_stmt 0 view .LVU78
 225 0042 4FF0010C 		moveq	ip, #1
 165:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 166:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 167:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Filler mode.*/
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     filler = ' ';
 169:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 226              		.loc 1 169 9 view .LVU79
 227 0046 94F80080 		ldrb	r8, [r4]	@ zero_extendqisi2
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 228              		.loc 1 161 13 view .LVU80
 229 004a 18BF     		it	ne
 230 004c 4FF0000C 		movne	ip, #0
 231              	.LVL25:
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 232              		.loc 1 168 5 is_stmt 1 view .LVU81
 233              		.loc 1 169 5 view .LVU82
 234              		.loc 1 169 8 is_stmt 0 view .LVU83
 235 0050 B8F1300F 		cmp	r8, #48
 170:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 236              		.loc 1 170 7 is_stmt 1 view .LVU84
 237              		.loc 1 170 10 is_stmt 0 view .LVU85
 238 0054 0CBF     		ite	eq
 239 0056 0134     		addeq	r4, r4, #1
 240              	.LVL26:
 171:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = '0';
 241              		.loc 1 171 7 is_stmt 1 view .LVU86
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 242              		.loc 1 168 12 is_stmt 0 view .LVU87
 243 0058 4FF02008 		movne	r8, #32
 244              	.LVL27:
 172:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 173:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 174:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Width modifier.*/
 175:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ( *fmt == '*') {
 245              		.loc 1 175 5 is_stmt 1 view .LVU88
 246              		.loc 1 175 8 is_stmt 0 view .LVU89
 247 005c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 248 005e 2A2B     		cmp	r3, #42
 249 0060 1CD1     		bne	.L66
 176:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = va_arg(ap, int);
 250              		.loc 1 176 7 is_stmt 1 view .LVU90
 251              	.LVL28:
 252              		.loc 1 176 13 is_stmt 0 view .LVU91
 253 0062 55F804AB 		ldr	r10, [r5], #4
 254              	.LVL29:
 177:lib/chibios/os/hal/lib/streams/chprintf.c ****       ++fmt;
 255              		.loc 1 177 7 is_stmt 1 view .LVU92
 178:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 256              		.loc 1 178 7 view .LVU93
 257              		.loc 1 178 9 is_stmt 0 view .LVU94
 258 0066 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 259              	.LVL30:
 260              		.loc 1 178 15 view .LVU95
 261 0068 0234     		adds	r4, r4, #2
 262              	.LVL31:
 263              	.L16:
 179:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 180:lib/chibios/os/hal/lib/streams/chprintf.c ****     else {
 181:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****       while (true) {
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 185:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 186:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c >= '0' && c <= '9') {
 188:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****           width = width * 10 + c;
 190:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 191:lib/chibios/os/hal/lib/streams/chprintf.c ****         else {
 192:lib/chibios/os/hal/lib/streams/chprintf.c ****           break;
 193:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 194:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 195:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 196:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 197:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Precision modifier.*/
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     precision = 0;
 264              		.loc 1 198 5 is_stmt 1 view .LVU96
 199:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 265              		.loc 1 199 5 view .LVU97
 266              		.loc 1 199 8 is_stmt 0 view .LVU98
 267 006a 2E2B     		cmp	r3, #46
 268 006c 41D1     		bne	.L67
 200:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 269              		.loc 1 200 7 is_stmt 1 view .LVU99
 270              	.LVL32:
 271              		.loc 1 200 9 is_stmt 0 view .LVU100
 272 006e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 273              	.LVL33:
 201:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 274              		.loc 1 201 7 is_stmt 1 view .LVU101
 275              		.loc 1 201 10 is_stmt 0 view .LVU102
 276 0070 83B1     		cbz	r3, .L7
 202:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 203:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 204:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == '*') {
 277              		.loc 1 204 7 is_stmt 1 view .LVU103
 278              		.loc 1 204 10 is_stmt 0 view .LVU104
 279 0072 2A2B     		cmp	r3, #42
 280 0074 21D0     		beq	.L18
 200:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 281              		.loc 1 200 15 view .LVU105
 282 0076 601C     		adds	r0, r4, #1
 283              	.LVL34:
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 284              		.loc 1 198 15 view .LVU106
 285 0078 0022     		movs	r2, #0
 286              	.LVL35:
 287              	.L19:
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = va_arg(ap, int);
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 207:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 208:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 209:lib/chibios/os/hal/lib/streams/chprintf.c ****         while (c >= '0' && c <= '9') {
 288              		.loc 1 209 25 view .LVU107
 289 007a A3F13001 		sub	r1, r3, #48
 290 007e C9B2     		uxtb	r1, r1
 291 0080 0929     		cmp	r1, #9
 292 0082 0446     		mov	r4, r0
 293              	.LVL36:
 294              		.loc 1 209 25 is_stmt 1 view .LVU108
 295 0084 1DD8     		bhi	.L17
 296              	.LVL37:
 210:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 297              		.loc 1 210 11 view .LVU109
 211:lib/chibios/os/hal/lib/streams/chprintf.c ****           precision = precision * 10 + c;
 298              		.loc 1 211 11 view .LVU110
 299              		.loc 1 211 21 is_stmt 0 view .LVU111
 300 0086 0A23     		movs	r3, #10
 301 0088 03FB0212 		mla	r2, r3, r2, r1
 302              	.LVL38:
 212:lib/chibios/os/hal/lib/streams/chprintf.c ****           c = *fmt++;
 303              		.loc 1 212 11 is_stmt 1 view .LVU112
 304              		.loc 1 212 13 is_stmt 0 view .LVU113
 305 008c 10F8013B 		ldrb	r3, [r0], #1	@ zero_extendqisi2
 306              	.LVL39:
 213:lib/chibios/os/hal/lib/streams/chprintf.c ****           if (c == 0) {
 307              		.loc 1 213 11 is_stmt 1 view .LVU114
 308              		.loc 1 213 14 is_stmt 0 view .LVU115
 309 0090 002B     		cmp	r3, #0
 310 0092 F2D1     		bne	.L19
 311              	.LVL40:
 312              	.L7:
 214:lib/chibios/os/hal/lib/streams/chprintf.c ****             return n;
 215:lib/chibios/os/hal/lib/streams/chprintf.c ****           }
 216:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 217:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 218:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 219:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 220:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Long modifier.*/
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == 'l' || c == 'L') {
 222:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 225:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 226:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 227:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 228:lib/chibios/os/hal/lib/streams/chprintf.c ****     else {
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = (c >= 'A') && (c <= 'Z');
 230:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 231:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 232:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Command decoding.*/
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     switch (c) {
 234:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = ' ';
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 237:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 238:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 's':
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = ' ';
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 242:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 243:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (precision == 0) {
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = 32767;
 245:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****       for (p = s; *p && (--precision >= 0); p++)
 247:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 248:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 249:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'D':
 250:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'd':
 251:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'I':
 252:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'i':
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (is_long) {
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 255:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 256:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, int);
 258:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (l < 0) {
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 262:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 263:lib/chibios/os/hal/lib/streams/chprintf.c ****       else
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (do_sign) {
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 266:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 267:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ch_ltoa(p, l, 10);
 268:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 269:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
 270:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'f':
 271:lib/chibios/os/hal/lib/streams/chprintf.c ****       f = (float) va_arg(ap, double);
 272:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (f < 0) {
 273:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 274:lib/chibios/os/hal/lib/streams/chprintf.c ****         f = -f;
 275:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 276:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 277:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (do_sign) {
 278:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 279:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 280:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 281:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ftoa(p, f, precision);
 282:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 283:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
 284:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'X':
 285:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'x':
 286:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'P':
 287:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'p':
 288:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 16;
 289:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 290:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'U':
 291:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'u':
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 10;
 293:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 294:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'O':
 295:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'o':
 296:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 8;
 297:lib/chibios/os/hal/lib/streams/chprintf.c **** unsigned_common:
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (is_long) {
 299:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 300:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 301:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned int);
 303:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 304:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ch_ltoa(p, l, c);
 305:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 306:lib/chibios/os/hal/lib/streams/chprintf.c ****     default:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = c;
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 309:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     i = (int)(p - s);
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 312:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 313:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (left_align == false) {
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 316:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (width < 0) {
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 320:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****         i--;
 322:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 323:lib/chibios/os/hal/lib/streams/chprintf.c ****       do {
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)filler);
 325:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****       } while (++width != 0);
 327:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****     while (--i >= 0) {
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 330:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 331:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 332:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****     while (width) {
 334:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 335:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****       width--;
 337:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 338:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
 339:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 313              		.loc 1 339 1 view .LVU116
 314 0094 3846     		mov	r0, r7
 315 0096 07B0     		add	sp, sp, #28
 316              		.cfi_remember_state
 317              		.cfi_def_cfa_offset 36
 318              		@ sp needed
 319 0098 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 320              	.LVL41:
 321              	.L66:
 322              		.cfi_restore_state
 181:lib/chibios/os/hal/lib/streams/chprintf.c ****       while (true) {
 323              		.loc 1 181 13 view .LVU117
 324 009c 4FF0000A 		mov	r10, #0
 325              	.LVL42:
 326              	.L15:
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 327              		.loc 1 182 7 is_stmt 1 view .LVU118
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 328              		.loc 1 183 9 view .LVU119
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 329              		.loc 1 183 11 is_stmt 0 view .LVU120
 330 00a0 14F8013B 		ldrb	r3, [r4], #1	@ zero_extendqisi2
 331              	.LVL43:
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 332              		.loc 1 184 9 is_stmt 1 view .LVU121
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 333              		.loc 1 184 12 is_stmt 0 view .LVU122
 334 00a4 002B     		cmp	r3, #0
 335 00a6 F5D0     		beq	.L7
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 336              		.loc 1 187 9 is_stmt 1 view .LVU123
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 337              		.loc 1 187 22 is_stmt 0 view .LVU124
 338 00a8 A3F13002 		sub	r2, r3, #48
 339              	.LVL44:
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 340              		.loc 1 187 22 view .LVU125
 341 00ac D2B2     		uxtb	r2, r2
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 342              		.loc 1 187 12 view .LVU126
 343 00ae 092A     		cmp	r2, #9
 344 00b0 DBD8     		bhi	.L16
 188:lib/chibios/os/hal/lib/streams/chprintf.c ****           width = width * 10 + c;
 345              		.loc 1 188 11 is_stmt 1 view .LVU127
 346              	.LVL45:
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 347              		.loc 1 189 11 view .LVU128
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 348              		.loc 1 189 17 is_stmt 0 view .LVU129
 349 00b2 0A23     		movs	r3, #10
 350 00b4 03FB0A2A 		mla	r10, r3, r10, r2
 351              	.LVL46:
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 352              		.loc 1 182 13 is_stmt 1 view .LVU130
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 353              		.loc 1 183 11 is_stmt 0 view .LVU131
 354 00b8 F2E7     		b	.L15
 355              	.LVL47:
 356              	.L18:
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 357              		.loc 1 205 9 is_stmt 1 view .LVU132
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 358              		.loc 1 205 19 is_stmt 0 view .LVU133
 359 00ba 55F8042B 		ldr	r2, [r5], #4
 360              	.LVL48:
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 361              		.loc 1 206 9 is_stmt 1 view .LVU134
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 362              		.loc 1 206 11 is_stmt 0 view .LVU135
 363 00be 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 364              	.LVL49:
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 365              		.loc 1 206 17 view .LVU136
 366 00c0 0234     		adds	r4, r4, #2
 367              	.LVL50:
 368              	.L17:
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 369              		.loc 1 221 5 is_stmt 1 view .LVU137
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 370              		.loc 1 221 18 is_stmt 0 view .LVU138
 371 00c2 03F0DF01 		and	r1, r3, #223
 372 00c6 4C29     		cmp	r1, #76
 373 00c8 15D1     		bne	.L21
 222:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 374              		.loc 1 222 7 is_stmt 1 view .LVU139
 375              	.LVL51:
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 376              		.loc 1 223 7 view .LVU140
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 377              		.loc 1 223 9 is_stmt 0 view .LVU141
 378 00ca 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 379              	.LVL52:
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 380              		.loc 1 224 7 is_stmt 1 view .LVU142
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 381              		.loc 1 224 10 is_stmt 0 view .LVU143
 382 00cc 002B     		cmp	r3, #0
 383 00ce E1D0     		beq	.L7
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 384              		.loc 1 233 5 view .LVU144
 385 00d0 782B     		cmp	r3, #120
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 386              		.loc 1 223 15 view .LVU145
 387 00d2 04F10104 		add	r4, r4, #1
 388              	.LVL53:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 389              		.loc 1 233 5 is_stmt 1 view .LVU146
 390 00d6 24D8     		bhi	.L23
 391 00d8 622B     		cmp	r3, #98
 392 00da 00F2E880 		bhi	.L55
 393 00de 582B     		cmp	r3, #88
 394 00e0 1FD8     		bhi	.L23
 395 00e2 4E2B     		cmp	r3, #78
 396 00e4 00F21881 		bhi	.L56
 397 00e8 442B     		cmp	r3, #68
 398 00ea 7BD0     		beq	.L41
 399 00ec 492B     		cmp	r3, #73
 400 00ee 79D0     		beq	.L41
 401 00f0 17E0     		b	.L23
 402              	.LVL54:
 403              	.L67:
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 404              		.loc 1 198 15 is_stmt 0 view .LVU147
 405 00f2 0022     		movs	r2, #0
 406              	.LVL55:
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 407              		.loc 1 198 15 view .LVU148
 408 00f4 E5E7     		b	.L17
 409              	.LVL56:
 410              	.L21:
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 411              		.loc 1 229 7 is_stmt 1 view .LVU149
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 412              		.loc 1 229 28 is_stmt 0 view .LVU150
 413 00f6 A3F14100 		sub	r0, r3, #65
 414 00fa C0B2     		uxtb	r0, r0
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 415              		.loc 1 229 15 view .LVU151
 416 00fc 1928     		cmp	r0, #25
 417 00fe 8CBF     		ite	hi
 418 0100 4FF0000E 		movhi	lr, #0
 419 0104 4FF0010E 		movls	lr, #1
 420              	.LVL57:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 421              		.loc 1 233 5 is_stmt 1 view .LVU152
 422 0108 782B     		cmp	r3, #120
 423 010a 0AD8     		bhi	.L23
 424 010c 622B     		cmp	r3, #98
 425 010e 0CD8     		bhi	.L24
 426 0110 582B     		cmp	r3, #88
 427 0112 06D8     		bhi	.L23
 428 0114 4E2B     		cmp	r3, #78
 429 0116 00F2FF80 		bhi	.L56
 430 011a 442B     		cmp	r3, #68
 431 011c 5DD0     		beq	.L26
 432 011e 492B     		cmp	r3, #73
 433 0120 5BD0     		beq	.L26
 434              	.LVL58:
 435              	.L23:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 436              		.loc 1 307 7 view .LVU153
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 437              		.loc 1 307 12 is_stmt 0 view .LVU154
 438 0122 8DF80C30 		strb	r3, [sp, #12]
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 439              		.loc 1 308 7 is_stmt 1 view .LVU155
 440 0126 AB46     		mov	fp, r5
 441 0128 3BE0     		b	.L123
 442              	.LVL59:
 443              	.L24:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 444              		.loc 1 233 5 is_stmt 0 view .LVU156
 445 012a A3F16301 		sub	r1, r3, #99
 446 012e 1529     		cmp	r1, #21
 447 0130 F7D8     		bhi	.L23
 448 0132 0FF2080B 		adr	fp, .L28
 449 0136 5BF821F0 		ldr	pc, [fp, r1, lsl #2]
 450 013a 00BF     		.p2align 2
 451              	.L28:
 452 013c 95010000 		.word	.L32+1
 453 0140 DB010000 		.word	.L26+1
 454 0144 23010000 		.word	.L23+1
 455 0148 23010000 		.word	.L23+1
 456 014c 23010000 		.word	.L23+1
 457 0150 23010000 		.word	.L23+1
 458 0154 DB010000 		.word	.L26+1
 459 0158 23010000 		.word	.L23+1
 460 015c 23010000 		.word	.L23+1
 461 0160 23010000 		.word	.L23+1
 462 0164 23010000 		.word	.L23+1
 463 0168 23010000 		.word	.L23+1
 464 016c 69020000 		.word	.L75+1
 465 0170 55030000 		.word	.L76+1
 466 0174 23010000 		.word	.L23+1
 467 0178 23010000 		.word	.L23+1
 468 017c AB010000 		.word	.L30+1
 469 0180 23010000 		.word	.L23+1
 470 0184 51030000 		.word	.L61+1
 471 0188 23010000 		.word	.L23+1
 472 018c 23010000 		.word	.L23+1
 473 0190 55030000 		.word	.L76+1
 474              	.LVL60:
 475              		.p2align 1
 476              	.L32:
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 477              		.loc 1 235 7 is_stmt 1 view .LVU157
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 478              		.loc 1 236 7 view .LVU158
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 479              		.loc 1 236 14 is_stmt 0 view .LVU159
 480 0194 AB46     		mov	fp, r5
 481              	.LVL61:
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 482              		.loc 1 235 14 view .LVU160
 483 0196 4FF02008 		mov	r8, #32
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 484              		.loc 1 236 12 view .LVU161
 485 019a 5BF8043B 		ldr	r3, [fp], #4
 486              	.LVL62:
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 487              		.loc 1 236 12 view .LVU162
 488 019e 8DF80C30 		strb	r3, [sp, #12]
 237:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 's':
 489              		.loc 1 237 7 is_stmt 1 view .LVU163
 490              	.LVL63:
 491              	.L123:
 151:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 492              		.loc 1 151 7 is_stmt 0 view .LVU164
 493 01a2 03AD     		add	r5, sp, #12
 494              	.LVL64:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 495              		.loc 1 307 9 view .LVU165
 496 01a4 0DF10D00 		add	r0, sp, #13
 497              	.LVL65:
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 498              		.loc 1 308 7 view .LVU166
 499 01a8 2BE0     		b	.L36
 500              	.LVL66:
 501              	.L30:
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 502              		.loc 1 239 7 is_stmt 1 view .LVU167
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 503              		.loc 1 240 7 view .LVU168
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 504              		.loc 1 240 14 is_stmt 0 view .LVU169
 505 01aa AB46     		mov	fp, r5
 506              	.LVL67:
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 507              		.loc 1 241 11 view .LVU170
 508 01ac 6A4B     		ldr	r3, .L124
 509              	.LVL68:
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 510              		.loc 1 240 14 view .LVU171
 511 01ae 5BF8045B 		ldr	r5, [fp], #4
 512              	.LVL69:
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 513              		.loc 1 241 11 view .LVU172
 514 01b2 002D     		cmp	r5, #0
 515 01b4 08BF     		it	eq
 516 01b6 1D46     		moveq	r5, r3
 517              	.LVL70:
 243:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = 32767;
 518              		.loc 1 243 7 is_stmt 1 view .LVU173
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 519              		.loc 1 244 19 is_stmt 0 view .LVU174
 520 01b8 47F6FF73 		movw	r3, #32767
 521 01bc 002A     		cmp	r2, #0
 522 01be 08BF     		it	eq
 523 01c0 1A46     		moveq	r2, r3
 524              	.LVL71:
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 525              		.loc 1 244 19 view .LVU175
 526 01c2 2A44     		add	r2, r2, r5
 527 01c4 2B46     		mov	r3, r5
 528              	.LVL72:
 529              	.L39:
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 530              		.loc 1 244 19 view .LVU176
 531 01c6 1846     		mov	r0, r3
 532              	.LVL73:
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 533              		.loc 1 246 22 is_stmt 1 discriminator 1 view .LVU177
 534 01c8 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
 535 01cc 11B1     		cbz	r1, .L70
 536 01ce D11A     		subs	r1, r2, r3
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 537              		.loc 1 246 22 is_stmt 0 discriminator 3 view .LVU178
 538 01d0 0029     		cmp	r1, #0
 539 01d2 F8DA     		bge	.L39
 540              	.L70:
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 541              		.loc 1 239 14 view .LVU179
 542 01d4 4FF02008 		mov	r8, #32
 543 01d8 13E0     		b	.L36
 544              	.LVL74:
 545              	.L26:
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 546              		.loc 1 253 7 is_stmt 1 view .LVU180
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 547              		.loc 1 257 11 is_stmt 0 view .LVU181
 548 01da AB46     		mov	fp, r5
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 549              		.loc 1 253 10 view .LVU182
 550 01dc 1928     		cmp	r0, #25
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 551              		.loc 1 257 11 view .LVU183
 552 01de 5BF8041B 		ldr	r1, [fp], #4
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 553              		.loc 1 253 10 view .LVU184
 554 01e2 02D8     		bhi	.L40
 555              	.LVL75:
 556              	.L41:
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 557              		.loc 1 254 9 is_stmt 1 view .LVU185
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 558              		.loc 1 254 11 is_stmt 0 view .LVU186
 559 01e4 AB46     		mov	fp, r5
 560              	.LVL76:
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 561              		.loc 1 254 11 view .LVU187
 562 01e6 5BF8041B 		ldr	r1, [fp], #4
 563              	.LVL77:
 564              	.L40:
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 565              		.loc 1 259 7 is_stmt 1 view .LVU188
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 566              		.loc 1 259 10 is_stmt 0 view .LVU189
 567 01ea 0029     		cmp	r1, #0
 568 01ec 33DA     		bge	.L42
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 569              		.loc 1 260 9 is_stmt 1 view .LVU190
 570              	.LVL78:
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 571              		.loc 1 260 14 is_stmt 0 view .LVU191
 572 01ee 2D23     		movs	r3, #45
 573              	.LVL79:
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 574              		.loc 1 260 14 view .LVU192
 575 01f0 8DF80C30 		strb	r3, [sp, #12]
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 576              		.loc 1 261 9 is_stmt 1 view .LVU193
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 577              		.loc 1 261 11 is_stmt 0 view .LVU194
 578 01f4 4942     		rsbs	r1, r1, #0
 579              	.LVL80:
 580              	.L121:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 581              		.loc 1 265 13 view .LVU195
 582 01f6 0DF10D00 		add	r0, sp, #13
 583              	.LVL81:
 584              	.L43:
 267:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 585              		.loc 1 267 7 is_stmt 1 view .LVU196
 586              	.LBB6:
 587              	.LBI6:
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 588              		.loc 1 72 14 view .LVU197
 589              	.LBB7:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 590              		.loc 1 74 3 view .LVU198
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 591              		.loc 1 74 10 is_stmt 0 view .LVU199
 592 01fa 0A22     		movs	r2, #10
 593              	.LVL82:
 594              	.L122:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 595              		.loc 1 74 10 view .LVU200
 596              	.LBE7:
 597              	.LBE6:
 598              	.LBB8:
 599              	.LBB9:
 600 01fc FFF7FEFF 		bl	long_to_string_with_divisor.constprop.0
 601              	.LVL83:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 602              		.loc 1 74 10 view .LVU201
 603              	.LBE9:
 604              	.LBE8:
 305:lib/chibios/os/hal/lib/streams/chprintf.c ****     default:
 605              		.loc 1 305 7 is_stmt 1 view .LVU202
 151:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 606              		.loc 1 151 7 is_stmt 0 view .LVU203
 607 0200 03AD     		add	r5, sp, #12
 608              	.LVL84:
 609              	.L36:
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 610              		.loc 1 310 5 is_stmt 1 view .LVU204
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 611              		.loc 1 310 7 is_stmt 0 view .LVU205
 612 0202 431B     		subs	r3, r0, r5
 613              	.LVL85:
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 614              		.loc 1 311 5 is_stmt 1 view .LVU206
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 615              		.loc 1 311 16 is_stmt 0 view .LVU207
 616 0204 AAEB0302 		sub	r2, r10, r3
 617              	.LVL86:
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 618              		.loc 1 311 16 view .LVU208
 619 0208 22EAE27A 		bic	r10, r2, r2, asr #31
 620              	.LVL87:
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 621              		.loc 1 314 5 is_stmt 1 view .LVU209
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 622              		.loc 1 314 8 is_stmt 0 view .LVU210
 623 020c B9F1000F 		cmp	r9, #0
 624 0210 44D1     		bne	.L72
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 625              		.loc 1 315 7 is_stmt 1 view .LVU211
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 626              		.loc 1 317 8 is_stmt 0 view .LVU212
 627 0212 002A     		cmp	r2, #0
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 628              		.loc 1 315 13 view .LVU213
 629 0214 CAF10009 		rsb	r9, r10, #0
 630              	.LVL88:
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 631              		.loc 1 317 5 is_stmt 1 view .LVU214
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 632              		.loc 1 317 8 is_stmt 0 view .LVU215
 633 0218 1BDD     		ble	.L46
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 634              		.loc 1 318 7 is_stmt 1 view .LVU216
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 635              		.loc 1 318 12 is_stmt 0 view .LVU217
 636 021a 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 637              		.loc 1 318 10 view .LVU218
 638 021c 2D29     		cmp	r1, #45
 639 021e 01D0     		beq	.L47
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 640              		.loc 1 318 22 discriminator 2 view .LVU219
 641 0220 2B29     		cmp	r1, #43
 642 0222 0BD1     		bne	.L49
 643              	.L47:
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 644              		.loc 1 318 36 discriminator 3 view .LVU220
 645 0224 B8F1300F 		cmp	r8, #48
 646 0228 08D1     		bne	.L49
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 647              		.loc 1 319 9 view .LVU221
 648 022a 3268     		ldr	r2, [r6]
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 649              		.loc 1 321 10 view .LVU222
 650 022c 013B     		subs	r3, r3, #1
 651              	.LVL89:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 652              		.loc 1 319 9 view .LVU223
 653 022e D268     		ldr	r2, [r2, #12]
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 654              		.loc 1 321 10 view .LVU224
 655 0230 0193     		str	r3, [sp, #4]
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 656              		.loc 1 319 9 is_stmt 1 view .LVU225
 657 0232 3046     		mov	r0, r6
 658              	.LVL90:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 659              		.loc 1 319 9 is_stmt 0 view .LVU226
 660 0234 9047     		blx	r2
 661              	.LVL91:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 662              		.loc 1 319 9 view .LVU227
 663 0236 019B     		ldr	r3, [sp, #4]
 146:lib/chibios/os/hal/lib/streams/chprintf.c ****       continue;
 664              		.loc 1 146 8 view .LVU228
 665 0238 0137     		adds	r7, r7, #1
 666              	.LVL92:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 667              		.loc 1 319 9 view .LVU229
 668 023a 0135     		adds	r5, r5, #1
 669              	.LVL93:
 320:lib/chibios/os/hal/lib/streams/chprintf.c ****         i--;
 670              		.loc 1 320 9 is_stmt 1 view .LVU230
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 671              		.loc 1 321 9 view .LVU231
 672              	.L49:
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 673              		.loc 1 324 9 is_stmt 0 discriminator 1 view .LVU232
 674 023c 3268     		ldr	r2, [r6]
 675 023e 0193     		str	r3, [sp, #4]
 323:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)filler);
 676              		.loc 1 323 7 is_stmt 1 discriminator 1 view .LVU233
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 677              		.loc 1 324 9 discriminator 1 view .LVU234
 678 0240 D268     		ldr	r2, [r2, #12]
 679 0242 4146     		mov	r1, r8
 680 0244 3046     		mov	r0, r6
 681 0246 9047     		blx	r2
 682              	.LVL94:
 325:lib/chibios/os/hal/lib/streams/chprintf.c ****       } while (++width != 0);
 683              		.loc 1 325 9 discriminator 1 view .LVU235
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 684              		.loc 1 326 24 discriminator 1 view .LVU236
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 685              		.loc 1 326 24 is_stmt 0 discriminator 1 view .LVU237
 686 0248 19F10109 		adds	r9, r9, #1
 687              	.LVL95:
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 688              		.loc 1 326 24 discriminator 1 view .LVU238
 689 024c 019B     		ldr	r3, [sp, #4]
 690 024e F5D1     		bne	.L49
 691 0250 5744     		add	r7, r7, r10
 692              	.L46:
 693              	.LVL96:
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 694              		.loc 1 326 24 discriminator 1 view .LVU239
 695 0252 9A46     		mov	r10, r3
 696 0254 16E0     		b	.L50
 697              	.LVL97:
 698              	.L42:
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 699              		.loc 1 264 9 is_stmt 1 view .LVU240
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 700              		.loc 1 264 12 is_stmt 0 view .LVU241
 701 0256 BCF1000F 		cmp	ip, #0
 702 025a 03D0     		beq	.L71
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 703              		.loc 1 265 11 is_stmt 1 view .LVU242
 704              	.LVL98:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 705              		.loc 1 265 16 is_stmt 0 view .LVU243
 706 025c 2B23     		movs	r3, #43
 707              	.LVL99:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 708              		.loc 1 265 16 view .LVU244
 709 025e 8DF80C30 		strb	r3, [sp, #12]
 710 0262 C8E7     		b	.L121
 711              	.LVL100:
 712              	.L71:
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 713              		.loc 1 150 7 view .LVU245
 714 0264 03A8     		add	r0, sp, #12
 715              	.LVL101:
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 716              		.loc 1 150 7 view .LVU246
 717 0266 C8E7     		b	.L43
 718              	.LVL102:
 719              	.L75:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 720              		.loc 1 233 5 view .LVU247
 721 0268 0822     		movs	r2, #8
 722              	.L31:
 723              	.LVL103:
 724              	.L44:
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 725              		.loc 1 257 11 view .LVU248
 726 026a AB46     		mov	fp, r5
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 727              		.loc 1 302 9 is_stmt 1 view .LVU249
 728              	.LVL104:
 729              	.LBB12:
 730              	.LBB10:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 731              		.loc 1 74 10 is_stmt 0 view .LVU250
 732 026c 03A8     		add	r0, sp, #12
 733              	.LVL105:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 734              		.loc 1 74 10 view .LVU251
 735              	.LBE10:
 736              	.LBE12:
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 737              		.loc 1 302 11 view .LVU252
 738 026e 5BF8041B 		ldr	r1, [fp], #4
 739              	.LVL106:
 304:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 740              		.loc 1 304 7 is_stmt 1 view .LVU253
 741              	.LBB13:
 742              	.LBI8:
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 743              		.loc 1 72 14 view .LVU254
 744              	.LBB11:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 745              		.loc 1 74 3 view .LVU255
 746 0272 C3E7     		b	.L122
 747              	.LVL107:
 748              	.L51:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 749              		.loc 1 74 3 is_stmt 0 view .LVU256
 750              	.LBE11:
 751              	.LBE13:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 752              		.loc 1 329 7 view .LVU257
 753 0274 3268     		ldr	r2, [r6]
 754 0276 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 755              	.LVL108:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 756              		.loc 1 329 7 view .LVU258
 757 027a D268     		ldr	r2, [r2, #12]
 758 027c 0193     		str	r3, [sp, #4]
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 759              		.loc 1 329 7 is_stmt 1 view .LVU259
 760              	.LVL109:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 761              		.loc 1 329 7 is_stmt 0 view .LVU260
 762 027e 3046     		mov	r0, r6
 763 0280 9047     		blx	r2
 764              	.LVL110:
 330:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 765              		.loc 1 330 7 is_stmt 1 view .LVU261
 766 0282 019B     		ldr	r3, [sp, #4]
 767              	.LVL111:
 768              	.L50:
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 769              		.loc 1 328 16 view .LVU262
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 770              		.loc 1 328 16 is_stmt 0 view .LVU263
 771 0284 BAF1010A 		subs	r10, r10, #1
 772              	.LVL112:
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 773              		.loc 1 328 16 view .LVU264
 774 0288 F4D5     		bpl	.L51
 775 028a 002B     		cmp	r3, #0
 776 028c A8BF     		it	ge
 777 028e FF18     		addge	r7, r7, r3
 778 0290 4D46     		mov	r5, r9
 779              	.LVL113:
 780              	.L52:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 781              		.loc 1 333 12 is_stmt 1 view .LVU265
 782 0292 2DB9     		cbnz	r5, .L53
 783 0294 4F44     		add	r7, r7, r9
 784 0296 5D46     		mov	r5, fp
 785              	.LVL114:
 786              	.L11:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 787              		.loc 1 333 12 is_stmt 0 view .LVU266
 788 0298 2146     		mov	r1, r4
 789 029a B7E6     		b	.L8
 790              	.LVL115:
 791              	.L72:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 792              		.loc 1 333 12 view .LVU267
 793 029c D146     		mov	r9, r10
 794              	.LVL116:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 795              		.loc 1 333 12 view .LVU268
 796 029e D8E7     		b	.L46
 797              	.LVL117:
 798              	.L53:
 334:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 799              		.loc 1 334 7 is_stmt 1 view .LVU269
 800 02a0 3368     		ldr	r3, [r6]
 801 02a2 4146     		mov	r1, r8
 802 02a4 DB68     		ldr	r3, [r3, #12]
 803 02a6 3046     		mov	r0, r6
 804 02a8 9847     		blx	r3
 805              	.LVL118:
 335:lib/chibios/os/hal/lib/streams/chprintf.c ****       width--;
 806              		.loc 1 335 7 view .LVU270
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 807              		.loc 1 336 7 view .LVU271
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 808              		.loc 1 336 12 is_stmt 0 view .LVU272
 809 02aa 013D     		subs	r5, r5, #1
 810              	.LVL119:
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 811              		.loc 1 336 12 view .LVU273
 812 02ac F1E7     		b	.L52
 813              	.LVL120:
 814              	.L55:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 815              		.loc 1 233 5 view .LVU274
 816 02ae A3F16301 		sub	r1, r3, #99
 817 02b2 1529     		cmp	r1, #21
 818 02b4 3FF635AF 		bhi	.L23
 819 02b8 01A0     		adr	r0, .L58
 820 02ba 50F821F0 		ldr	pc, [r0, r1, lsl #2]
 821 02be 00BF     		.p2align 2
 822              	.L58:
 823 02c0 95010000 		.word	.L32+1
 824 02c4 E5010000 		.word	.L41+1
 825 02c8 23010000 		.word	.L23+1
 826 02cc 23010000 		.word	.L23+1
 827 02d0 23010000 		.word	.L23+1
 828 02d4 23010000 		.word	.L23+1
 829 02d8 E5010000 		.word	.L41+1
 830 02dc 23010000 		.word	.L23+1
 831 02e0 23010000 		.word	.L23+1
 832 02e4 23010000 		.word	.L23+1
 833 02e8 23010000 		.word	.L23+1
 834 02ec 23010000 		.word	.L23+1
 835 02f0 69020000 		.word	.L75+1
 836 02f4 55030000 		.word	.L76+1
 837 02f8 23010000 		.word	.L23+1
 838 02fc 23010000 		.word	.L23+1
 839 0300 AB010000 		.word	.L30+1
 840 0304 23010000 		.word	.L23+1
 841 0308 51030000 		.word	.L61+1
 842 030c 23010000 		.word	.L23+1
 843 0310 23010000 		.word	.L23+1
 844 0314 55030000 		.word	.L76+1
 845              	.LVL121:
 846              		.p2align 1
 847              	.L56:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 848              		.loc 1 233 5 view .LVU275
 849 0318 A3F14F02 		sub	r2, r3, #79
 850              	.LVL122:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 851              		.loc 1 233 5 view .LVU276
 852 031c 092A     		cmp	r2, #9
 853 031e 3FF600AF 		bhi	.L23
 854 0322 01A1     		adr	r1, .L60
 855 0324 51F822F0 		ldr	pc, [r1, r2, lsl #2]
 856              		.p2align 2
 857              	.L60:
 858 0328 69020000 		.word	.L75+1
 859 032c 55030000 		.word	.L76+1
 860 0330 23010000 		.word	.L23+1
 861 0334 23010000 		.word	.L23+1
 862 0338 23010000 		.word	.L23+1
 863 033c 23010000 		.word	.L23+1
 864 0340 51030000 		.word	.L61+1
 865 0344 23010000 		.word	.L23+1
 866 0348 23010000 		.word	.L23+1
 867 034c 55030000 		.word	.L76+1
 868              		.p2align 1
 869              	.L61:
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 870              		.loc 1 292 9 view .LVU277
 871 0350 0A22     		movs	r2, #10
 872 0352 8AE7     		b	.L44
 873              	.L76:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 874              		.loc 1 233 5 view .LVU278
 875 0354 1022     		movs	r2, #16
 876              	.LVL123:
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 877              		.loc 1 298 7 is_stmt 1 view .LVU279
 878 0356 88E7     		b	.L44
 879              	.L125:
 880              		.align	2
 881              	.L124:
 882 0358 00000000 		.word	.LC0
 883              		.cfi_endproc
 884              	.LFE330:
 886              		.section	.text.chprintf,"ax",%progbits
 887              		.align	1
 888              		.global	chprintf
 889              		.syntax unified
 890              		.thumb
 891              		.thumb_func
 892              		.fpu fpv4-sp-d16
 894              	chprintf:
 895              	.LVL124:
 896              	.LFB331:
 340:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 341:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 342:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 343:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p printf() like functionality
 344:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          with output on a @p BaseSequentialStream.
 345:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 346:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 347:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 348:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 349:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 350:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 351:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 352:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 353:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 354:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 355:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 356:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 357:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 358:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 359:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] chp       pointer to a @p BaseSequentialStream implementing object
 360:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 361:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of bytes that would have been
 362:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      written to @p chp if no stream error occurs
 363:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 364:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 365:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 366:lib/chibios/os/hal/lib/streams/chprintf.c **** int chprintf(BaseSequentialStream *chp, const char *fmt, ...) {
 897              		.loc 1 366 63 view -0
 898              		.cfi_startproc
 899              		@ args = 4, pretend = 12, frame = 8
 900              		@ frame_needed = 0, uses_anonymous_args = 1
 367:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 901              		.loc 1 367 3 view .LVU281
 368:lib/chibios/os/hal/lib/streams/chprintf.c ****   int formatted_bytes;
 902              		.loc 1 368 3 view .LVU282
 369:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 370:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_start(ap, fmt);
 903              		.loc 1 370 3 view .LVU283
 366:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 904              		.loc 1 366 63 is_stmt 0 view .LVU284
 905 0000 0EB4     		push	{r1, r2, r3}
 906              		.cfi_def_cfa_offset 12
 907              		.cfi_offset 1, -12
 908              		.cfi_offset 2, -8
 909              		.cfi_offset 3, -4
 910 0002 03B5     		push	{r0, r1, lr}
 911              		.cfi_def_cfa_offset 24
 912              		.cfi_offset 14, -16
 366:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 913              		.loc 1 366 63 view .LVU285
 914 0004 03AA     		add	r2, sp, #12
 915 0006 52F8041B 		ldr	r1, [r2], #4
 916              		.loc 1 370 3 view .LVU286
 917 000a 0192     		str	r2, [sp, #4]
 371:lib/chibios/os/hal/lib/streams/chprintf.c ****   formatted_bytes = chvprintf(chp, fmt, ap);
 918              		.loc 1 371 3 is_stmt 1 view .LVU287
 919              		.loc 1 371 21 is_stmt 0 view .LVU288
 920 000c FFF7FEFF 		bl	chvprintf
 921              	.LVL125:
 372:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 922              		.loc 1 372 3 is_stmt 1 view .LVU289
 373:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 374:lib/chibios/os/hal/lib/streams/chprintf.c ****   return formatted_bytes;
 923              		.loc 1 374 3 view .LVU290
 375:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 924              		.loc 1 375 1 is_stmt 0 view .LVU291
 925 0010 02B0     		add	sp, sp, #8
 926              		.cfi_def_cfa_offset 16
 927              		@ sp needed
 928 0012 5DF804EB 		ldr	lr, [sp], #4
 929              		.cfi_restore 14
 930              		.cfi_def_cfa_offset 12
 931 0016 03B0     		add	sp, sp, #12
 932              		.cfi_restore 3
 933              		.cfi_restore 2
 934              		.cfi_restore 1
 935              		.cfi_def_cfa_offset 0
 936 0018 7047     		bx	lr
 937              		.cfi_endproc
 938              	.LFE331:
 940              		.section	.text.chvsnprintf,"ax",%progbits
 941              		.align	1
 942              		.global	chvsnprintf
 943              		.syntax unified
 944              		.thumb
 945              		.thumb_func
 946              		.fpu fpv4-sp-d16
 948              	chvsnprintf:
 949              	.LVL126:
 950              	.LFB333:
 376:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 377:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 378:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 379:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p snprintf()-like functionality.
 380:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 381:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 382:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 383:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 384:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 385:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 386:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 387:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 388:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 389:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 390:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 391:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 392:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 393:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @post    @p str is NUL-terminated, unless @p size is 0.
 394:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 395:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] str       pointer to a buffer
 396:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] size      maximum size of the buffer
 397:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 398:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of characters (excluding the
 399:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      terminating NUL byte) that would have been
 400:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      stored in @p str if there was room.
 401:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 402:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 403:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 404:lib/chibios/os/hal/lib/streams/chprintf.c **** int chsnprintf(char *str, size_t size, const char *fmt, ...) {
 405:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 406:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 407:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 408:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Performing the print operation.*/
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_start(ap, fmt);
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 411:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 412:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 413:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Return number of bytes that would have been written.*/
 414:lib/chibios/os/hal/lib/streams/chprintf.c ****   return retval;
 415:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 416:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 417:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 418:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 419:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p vsnprintf()-like functionality.
 420:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 421:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 422:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 423:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 424:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 425:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 426:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 427:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 428:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 429:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 430:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 431:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 432:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 433:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @post    @p str is NUL-terminated, unless @p size is 0.
 434:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 435:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] str       pointer to a buffer
 436:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] size      maximum size of the buffer
 437:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 438:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] ap        list of parameters
 439:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of characters (excluding the
 440:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      terminating NUL byte) that would have been
 441:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      stored in @p str if there was room.
 442:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 443:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 444:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 445:lib/chibios/os/hal/lib/streams/chprintf.c **** int chvsnprintf(char *str, size_t size, const char *fmt, va_list ap) {
 951              		.loc 1 445 70 is_stmt 1 view -0
 952              		.cfi_startproc
 953              		@ args = 0, pretend = 0, frame = 24
 954              		@ frame_needed = 0, uses_anonymous_args = 0
 446:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 955              		.loc 1 446 3 view .LVU293
 447:lib/chibios/os/hal/lib/streams/chprintf.c ****   BaseSequentialStream *chp;
 956              		.loc 1 447 3 view .LVU294
 448:lib/chibios/os/hal/lib/streams/chprintf.c ****   size_t size_wo_nul;
 957              		.loc 1 448 3 view .LVU295
 449:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 958              		.loc 1 449 3 view .LVU296
 450:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 451:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (size > 0)
 959              		.loc 1 451 3 view .LVU297
 445:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 960              		.loc 1 445 70 is_stmt 0 view .LVU298
 961 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 962              		.cfi_def_cfa_offset 20
 963              		.cfi_offset 4, -20
 964              		.cfi_offset 5, -16
 965              		.cfi_offset 6, -12
 966              		.cfi_offset 7, -8
 967              		.cfi_offset 14, -4
 968 0002 0546     		mov	r5, r0
 969 0004 87B0     		sub	sp, sp, #28
 970              		.cfi_def_cfa_offset 48
 445:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 971              		.loc 1 445 70 view .LVU299
 972 0006 1646     		mov	r6, r2
 973 0008 1F46     		mov	r7, r3
 974              	.LVL127:
 975              		.loc 1 451 6 view .LVU300
 976 000a 0C46     		mov	r4, r1
 977 000c 89B1     		cbz	r1, .L130
 452:lib/chibios/os/hal/lib/streams/chprintf.c ****     size_wo_nul = size - 1;
 978              		.loc 1 452 5 is_stmt 1 view .LVU301
 979              		.loc 1 452 17 is_stmt 0 view .LVU302
 980 000e 4A1E     		subs	r2, r1, #1
 981              	.LVL128:
 982              	.L128:
 453:lib/chibios/os/hal/lib/streams/chprintf.c ****   else
 454:lib/chibios/os/hal/lib/streams/chprintf.c ****     size_wo_nul = 0;
 455:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 456:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Memory stream object to be used as a string writer, reserving one
 457:lib/chibios/os/hal/lib/streams/chprintf.c ****      byte for the final zero.*/
 458:lib/chibios/os/hal/lib/streams/chprintf.c ****   msObjectInit(&ms, (uint8_t *)str, size_wo_nul, 0);
 983              		.loc 1 458 3 is_stmt 1 view .LVU303
 984 0010 0023     		movs	r3, #0
 985 0012 2946     		mov	r1, r5
 986              	.LVL129:
 987              		.loc 1 458 3 is_stmt 0 view .LVU304
 988 0014 01A8     		add	r0, sp, #4
 989              	.LVL130:
 990              		.loc 1 458 3 view .LVU305
 991 0016 FFF7FEFF 		bl	msObjectInit
 992              	.LVL131:
 459:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 460:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Performing the print operation using the common code.*/
 461:lib/chibios/os/hal/lib/streams/chprintf.c ****   chp = (BaseSequentialStream *)(void *)&ms;
 993              		.loc 1 461 3 is_stmt 1 view .LVU306
 462:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvprintf(chp, fmt, ap);
 994              		.loc 1 462 3 view .LVU307
 995              		.loc 1 462 12 is_stmt 0 view .LVU308
 996 001a 3A46     		mov	r2, r7
 997 001c 3146     		mov	r1, r6
 998 001e 01A8     		add	r0, sp, #4
 999              	.LVL132:
 1000              		.loc 1 462 12 view .LVU309
 1001 0020 FFF7FEFF 		bl	chvprintf
 1002              	.LVL133:
 463:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 464:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Terminate with a zero, unless size==0.*/
 465:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (ms.eos < size) {
 1003              		.loc 1 465 3 is_stmt 1 view .LVU310
 1004              		.loc 1 465 9 is_stmt 0 view .LVU311
 1005 0024 049B     		ldr	r3, [sp, #16]
 1006              		.loc 1 465 6 view .LVU312
 1007 0026 A342     		cmp	r3, r4
 466:lib/chibios/os/hal/lib/streams/chprintf.c ****     str[ms.eos] = 0;
 1008              		.loc 1 466 5 is_stmt 1 view .LVU313
 1009              		.loc 1 466 17 is_stmt 0 view .LVU314
 1010 0028 3CBF     		itt	cc
 1011 002a 0022     		movcc	r2, #0
 1012 002c EA54     		strbcc	r2, [r5, r3]
 467:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
 468:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 469:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Return number of bytes that would have been written.*/
 470:lib/chibios/os/hal/lib/streams/chprintf.c ****   return retval;
 1013              		.loc 1 470 3 is_stmt 1 view .LVU315
 471:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 1014              		.loc 1 471 1 is_stmt 0 view .LVU316
 1015 002e 07B0     		add	sp, sp, #28
 1016              		.cfi_remember_state
 1017              		.cfi_def_cfa_offset 20
 1018              		@ sp needed
 1019 0030 F0BD     		pop	{r4, r5, r6, r7, pc}
 1020              	.LVL134:
 1021              	.L130:
 1022              		.cfi_restore_state
 454:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1023              		.loc 1 454 17 view .LVU317
 1024 0032 0A46     		mov	r2, r1
 1025              	.LVL135:
 454:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1026              		.loc 1 454 17 view .LVU318
 1027 0034 ECE7     		b	.L128
 1028              		.cfi_endproc
 1029              	.LFE333:
 1031              		.section	.text.chsnprintf,"ax",%progbits
 1032              		.align	1
 1033              		.global	chsnprintf
 1034              		.syntax unified
 1035              		.thumb
 1036              		.thumb_func
 1037              		.fpu fpv4-sp-d16
 1039              	chsnprintf:
 1040              	.LVL136:
 1041              	.LFB332:
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1042              		.loc 1 404 62 is_stmt 1 view -0
 1043              		.cfi_startproc
 1044              		@ args = 4, pretend = 8, frame = 8
 1045              		@ frame_needed = 0, uses_anonymous_args = 1
 405:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 1046              		.loc 1 405 3 view .LVU320
 406:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1047              		.loc 1 406 3 view .LVU321
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 1048              		.loc 1 409 3 view .LVU322
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1049              		.loc 1 404 62 is_stmt 0 view .LVU323
 1050 0000 0CB4     		push	{r2, r3}
 1051              		.cfi_def_cfa_offset 8
 1052              		.cfi_offset 2, -8
 1053              		.cfi_offset 3, -4
 1054 0002 07B5     		push	{r0, r1, r2, lr}
 1055              		.cfi_def_cfa_offset 24
 1056              		.cfi_offset 14, -12
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1057              		.loc 1 404 62 view .LVU324
 1058 0004 04AB     		add	r3, sp, #16
 1059 0006 53F8042B 		ldr	r2, [r3], #4
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 1060              		.loc 1 409 3 view .LVU325
 1061 000a 0193     		str	r3, [sp, #4]
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 1062              		.loc 1 410 3 is_stmt 1 view .LVU326
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 1063              		.loc 1 410 12 is_stmt 0 view .LVU327
 1064 000c FFF7FEFF 		bl	chvsnprintf
 1065              	.LVL137:
 411:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1066              		.loc 1 411 3 is_stmt 1 view .LVU328
 414:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 1067              		.loc 1 414 3 view .LVU329
 415:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1068              		.loc 1 415 1 is_stmt 0 view .LVU330
 1069 0010 03B0     		add	sp, sp, #12
 1070              		.cfi_def_cfa_offset 12
 1071              		@ sp needed
 1072 0012 5DF804EB 		ldr	lr, [sp], #4
 1073              		.cfi_restore 14
 1074              		.cfi_def_cfa_offset 8
 1075 0016 02B0     		add	sp, sp, #8
 1076              		.cfi_restore 3
 1077              		.cfi_restore 2
 1078              		.cfi_def_cfa_offset 0
 1079 0018 7047     		bx	lr
 1080              		.cfi_endproc
 1081              	.LFE332:
 1083              		.text
 1084              	.Letext0:
 1085              		.file 2 "/usr/lib/gcc/arm-none-eabi/11.2.0/include/stddef.h"
 1086              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1087              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1088              		.file 5 "./lib/chibios/os/common/ports/ARMCMx/compilers/GCC/chtypes.h"
 1089              		.file 6 "./lib/chibios/os/hal/include/hal_streams.h"
 1090              		.file 7 "/usr/lib/gcc/arm-none-eabi/11.2.0/include/stdarg.h"
 1091              		.file 8 "lib/chibios/os/hal/lib/streams/memstreams.h"
 1092              		.file 9 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 chprintf.c
     /tmp/ccyh0xqc.s:18     .text.long_to_string_with_divisor.constprop.0:0000000000000000 $t
     /tmp/ccyh0xqc.s:25     .text.long_to_string_with_divisor.constprop.0:0000000000000000 long_to_string_with_divisor.constprop.0
     /tmp/ccyh0xqc.s:116    .text.chvprintf:0000000000000000 $t
     /tmp/ccyh0xqc.s:123    .text.chvprintf:0000000000000000 chvprintf
     /tmp/ccyh0xqc.s:452    .text.chvprintf:000000000000013c $d
     /tmp/ccyh0xqc.s:475    .text.chvprintf:0000000000000194 $t
     /tmp/ccyh0xqc.s:823    .text.chvprintf:00000000000002c0 $d
     /tmp/ccyh0xqc.s:846    .text.chvprintf:0000000000000318 $t
     /tmp/ccyh0xqc.s:858    .text.chvprintf:0000000000000328 $d
     /tmp/ccyh0xqc.s:868    .text.chvprintf:0000000000000350 $t
     /tmp/ccyh0xqc.s:882    .text.chvprintf:0000000000000358 $d
     /tmp/ccyh0xqc.s:887    .text.chprintf:0000000000000000 $t
     /tmp/ccyh0xqc.s:894    .text.chprintf:0000000000000000 chprintf
     /tmp/ccyh0xqc.s:941    .text.chvsnprintf:0000000000000000 $t
     /tmp/ccyh0xqc.s:948    .text.chvsnprintf:0000000000000000 chvsnprintf
     /tmp/ccyh0xqc.s:1032   .text.chsnprintf:0000000000000000 $t
     /tmp/ccyh0xqc.s:1039   .text.chsnprintf:0000000000000000 chsnprintf

UNDEFINED SYMBOLS
msObjectInit
